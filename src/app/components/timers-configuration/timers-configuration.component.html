<!-- Elemento invisible para evitar errores de foco al abrir select -->
<button
  id="safe-focus-element"
  style="opacity: 0; width: 0; height: 0; position: absolute; pointer-events: none"
  tabindex="-1"
></button>

<main class="timers-configuration">
  <button class="close-Mark" (click)="closeWindow()" aria-label="Cerrar configuración">&times;</button>

  <h2 class="timers-title">Configuración de timers</h2>

  <section class="sliders">
    <label class="sliders__title">
      <input
        type="checkbox"
        [checked]="roundTimerEnabled"
        (change)="onToggleRoundTimer($event)"
      />
      Activar Timer de Ronda
    </label>

    <label class="sliders__title">
      <input
        type="checkbox"
        [checked]="turnTimerEnabled"
        (change)="onToggleTurnTimer($event)"
      />
      Activar Timer de turnos
    </label>

    <label class="sliders__title">
      <input
        type="checkbox"
        [(ngModel)]="threeMatches"
        (change)="saveConfigToLocalStorage()"
      />
      Activar contador de partidas
    </label>

    <label class="sliders__title">
      <input
        type="checkbox"
        [(ngModel)]="sound"
        (change)="saveSoundConfigToLocalStorage()"
      />
      Activar Sonido
    </label>
  </section>

  <section class="timers-time">
    <!-- RONDA -->
    <label class="timers-time__label">Contador de Ronda</label>

    <div class="timers-time__item">
      <label for="roundHours">Horas</label>
      <select
        id="roundHours"
        [(ngModel)]="roundHours"
        (focus)="focusSafeElement()"
        (change)="saveConfigToLocalStorage()"
      >
        <option *ngFor="let h of hourOptions" [value]="h">{{ h }}</option>
      </select>
    </div>

    <div class="timers-time__item">
      <label for="roundMinutes">Minutos</label>
      <select
        id="roundMinutes"
        [(ngModel)]="roundMinutes"
        (focus)="focusSafeElement()"
        (change)="saveConfigToLocalStorage()"
      >
        <option *ngFor="let m of minuteOptions" [value]="m">{{ m }}</option>
      </select>
    </div>

    <div class="timers-time__item">
      <label for="roundSeconds">Segundos</label>
      <select
        id="roundSeconds"
        [(ngModel)]="roundSeconds"
        (focus)="focusSafeElement()"
        (change)="saveConfigToLocalStorage()"
      >
        <option *ngFor="let s of secondOptions" [value]="s">{{ s }}</option>
      </select>
    </div>

    <!-- TURNOS -->
    <label class="timers-time__label">Contador de turno</label>

    <div class="timers-time__item">
      <label for="turnMinutes">Minutos</label>
      <select
        id="turnMinutes"
        [(ngModel)]="turnMinutes"
        (focus)="focusSafeElement()"
        (change)="saveConfigToLocalStorage()"
      >
        <option *ngFor="let m of minuteOptions" [value]="m">{{ m }}</option>
      </select>
    </div>

    <div class="timers-time__item">
      <label for="turnSeconds">Segundos</label>
      <select
        id="turnSeconds"
        [(ngModel)]="turnSeconds"
        (focus)="focusSafeElement()"
        (change)="saveConfigToLocalStorage()"
      >
        <option *ngFor="let s of secondOptions" [value]="s">{{ s }}</option>
      </select>
    </div>
  </section>

  <section class="timers-btn">
    <button class="btn-reset" (click)="resetConfiguration()">Restablecer configuración</button>
  </section>
</main>
